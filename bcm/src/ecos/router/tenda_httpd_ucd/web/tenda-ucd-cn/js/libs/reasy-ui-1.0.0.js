!/*UCD - 0.2.0
 *Easy Web Team of Tenda
 *2014-06-12 04:49:03 */
!function(a){"use strict";var b,c;$.include||($.include=function(a){$.extend($.fn,a)}),$.extend({keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},viewportWidth:function(){var b=document.documentElement;return b&&b.clientWidth||document.body.clientWidth||a.innerWidth},viewportHeight:function(){var b=document.documentElement;return b&&b.clientHeight||document.body.clientHeight||a.innerHeight},getCursorPos:function(a){var b,c=0;return document.selection?(a.focus(),b=document.selection.createRange(),b.moveStart("character",-a.value.length),c=b.text.length):(a.selectionStart||0===parseInt(a.selectionStart,10))&&(c=a.selectionStart),c},setCursorPos:function(a,b){var c;return a.setSelectionRange?(a.focus(),a.setSelectionRange(b,b)):a.createTextRange&&(c=a.createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",b),c.select()),a},getUtf8Length:function(a){var b,c,d=0,e=a.length;for(c=0;e>c;c++)b=a.charCodeAt(c),127>b?d++:d+=b>=128&&2047>=b?2:b>=2048&&65535>=b?3:4;return d}}),$.cookie={get:function(a){var b=encodeURIComponent(a)+"=",c=document.cookie.indexOf(b),d=document.cookie.indexOf(";",c),e=null;return c>-1&&(-1==d&&(d=document.cookie.length),e=decodeURIComponent(document.cookie.substring(c+b.length,d))),e},set:function(a,b,c,d,e,f){var g=encodeURIComponent(a)+"="+encodeURIComponent(b);e instanceof Date&&(g+="; expires ="+e.toGMTString()),c&&(g+="; path ="+c),d&&(g+="; domain ="+d),f&&(g+="; secure ="+f),document.cookie=g},unset:function(a,b,c,d){this.set(a,"",b,c,new Date(0),d)}},$.dialog=function(){function a(a){var b,c,d=a.model;return"dialog"===d?(c=a.showNoprompt?"dialog-nocheck":"dialog-nocheck none",b='<h2 class="dialog-title"><span id="dialog-title">'+a.title+'</span><button type="button" class="close btn" id="dialog-close">&times;</button></h2><div class="dialog-content">'+a.content+'</div><div class="'+c+'"><label class="checkbox" for="nocheck"><input type="checkbox" id="dialog-noprompt" />不再提示</label></div><div class="dialog-btn-group"><button type="button" class="btn" id="dialog-apply">确定</button><button type="button" class="btn" id="dialog-cancel">取消</button></div>'):"message"===d&&(b='<h2 class="dialog-title"><span id="dialog-title">'+a.title+'</span></h2><div class="dialog-content dialog-content-massage">'+a.content+"</div>"),b}function b(a){this.element=null,this.id="r-dialog",this.overlay=null,this.noprompt="false",this.options="object"===$.type(a)?$.extend(c,a):$.extend(c,{content:a})}var c={show:!0,showNoprompt:!1,model:"dialog",title:"来自网页的消息",content:""};return b.prototype={init:function(){var b,c,d=$("#overlay"),e=d[0],f=$("#r-dialog"),g=f[0],h=$("body")[0],i=this;c=a(this.options),e||(e=document.createElement("div"),e.id="overlay",e.className="overlay",h.appendChild(e)),g||(g=document.createElement("div"),g.id="r-dialog",g.className="dialog",h.appendChild(g),f=$("#r-dialog"),g=f[0],f.html(c)),b=($.viewportWidth()-g.offsetWidth)/(2*$.viewportWidth())*100,b=b>0?b:0,f.css("left",b+"%"),this.element=g,this.overlay=e,f.on("click",function(a){var b=a.target||a.srcElement,c=b.id,d=c.split("-")[1];i.noprompt=$("#dialog-noprompt")[0]&&$("#dialog-noprompt")[0].checked?"true":"flase",d&&i[d]&&i[d]()}),this.options.show&&this.open()},close:function(){$(this.element).hide(),$(this.overlay).hide()},open:function(){var a=$("#dialog-noprompt")[0];$(this.element).show(),$(this.overlay).show(),a&&(a.checked=!1)},apply:function(){"function"===$.type(this.options.apply)&&this.options.apply.apply(this,arguments),this.close()},cancel:function(){"function"===$.type(this.options.cancel)&&this.options.cancel.apply(this,arguments),this.close()}},function(a){var c=new b(a);return c.init(),c}}(),b={create:function(a,c,d){if(a.toTextboxsed)return a;var e,f,g=$(a),h=4,i=3,j=".",k=/[^0-9]/g,l=[],m=[];if(d=d||"",c=c||"ip",e="ip-mini"===c?"text input-mic-mini":"text input-mini-medium",a.textboxsType=c,a.defVal=d,"mac"===c&&(h=6,i=2,j=":",k=/[^0-9a-fA-F]/g,e="text input-mic-mini"),""===a.innerHTML.trim()){for(f=0;h>f;f++)m[f]=0!==f?'<input type="text" class="'+e+'" maxlength="'+i+'">':'<input type="text" class="'+e+' first" maxlength="'+i+'">';a.innerHTML=m.join(j)}for(l=a.getElementsByTagName("input"),h=l.length,f=0;h>f;f++)l[f].index=f;return $(l).on("focus",function(){var c=b.getValue(this.parentNode);""===c?b.setValue(a,d,!0):"back"===this.back&&($.setCursorPos(this,this.value.length),this.back="")}).on("blur",function(){this.value>255&&(this.value="255")}),g.on("keydown",function(a){var b=a.target||a.srcElement;b.pos1=+$.getCursorPos(b),this.curIndex=b.index,b.emptyInput=b.value.length<=0?!0:!1}).on("keyup",function(a){var b=a.target||a.srcElement,d=a.keyCode||a.which,e=!1,f=!1,g=+$.getCursorPos(b),j=b.value,m=j.replace(k,""),n=parseInt(m,10).toString(),o=-1!==c.indexOf("ip");if(this.curIndex!==b.index)return!1;switch(d){case $.keyCode.LEFT:return f=g-b.pos1===0,f&&0===g&&b.index>0&&l[b.index-1].focus(),!0;case $.keyCode.RIGHT:return g===j.length&&b.index<h-1&&(l[b.index+1].focus(),$.setCursorPos(l[b.index+1],0)),!0;case $.keyCode.BACKSPACE:return b.emptyInput&&""===b.value&&b.index>0&&(l[b.index-1].focus(),l[b.index-1].back="back"),!0}j!==m&&(b.value=m),o&&!isNaN(n)&&n!==j&&(b.value=n),b.index!==h-1&&b.value.length>0&&(b.value.length===i&&g===i?e=!0:!o||d!==$.keyCode.NUMPAD_DECIMAL&&d!==$.keyCode.PERIOD||(e=!0)),e&&(l[b.index+1].focus(),l[b.index+1].select())}),a.toTextboxsed=!0,a},setValue:function(a,b,c){var d,e,f=a.getElementsByTagName("input"),g=f.length;for(""!==b&&"undefined"!==$.type(b)?(d=b.split("."),"mac"===a.textboxsType&&(d=b.split(":"))):d=["","","","","",""],e=0;g>e;e++)f[e].value=d[e];try{a.defVal&&c&&(f[e-1].focus(),$.setCursorPos(f[e-1],f[e-1].value.length))}catch(h){}return a},getValues:function(a){var b,c,d,e=[];for(b=a.getElementsByTagName("input"),c=b.length,d=0;c>d;d++)e[d]=b[d].value;return e},getValue:function(a){var c,d=b.getValues(a),e=".",f=/^[.:]{0,}$/;return"mac"===a.textboxsType&&(e=":"),c=d.join(e).toUpperCase(),f.test(c)?"":c},disable:function(a,b){var c,d=$("input.text",a),e=d.length;for(c=0;e>c;c++)d[c].disabled=b;return a}},c={addCapTip:function(b,c){function d(a,b){var c=/[A-Z]/g,d=b||a.length;return c.test(a.charAt(d-1))}var e=$(b);e.on("keyup",function(e){var f,g,h,i,j=this.id+"-caps",k=e.keyCode||e.which;return 65>k||k>90?!0:(this.capDetected||(g=document.createElement("span"),g.className="help-inline text-info",g.id=j,g.innerHTML="你输的是大写字母！",c?this.parentNode.insertBefore(g,c.nextSibling):this.parentNode.insertBefore(g,b.nextSibling),this.capDetected=!0),f=$("#"+j),i=$.getCursorPos(this),void(d(this.value,i)?(f.show(),h="$('#"+j+"').hide()",a.setTimeout(h,1e3)):f.hide()))})},toTextType:function(a){var b,c,d=$(a);return c=document.createElement("input"),c.setAttribute("type","text"),c.setAttribute("maxLength",a.getAttribute("maxLength")),c.setAttribute("id",a.id+"_"),c.className=a.className,c.setAttribute("placeholder",a.getAttribute("placeholder")||""),a.getAttribute("data-options")&&c.setAttribute("data-options",a.getAttribute("data-options")),a.getAttribute("required")&&c.setAttribute("required",a.getAttribute("required")),a.parentNode.insertBefore(c,a),b=$(c),d.on("focus",function(){var d=a.value;""!==d&&(c.value=d),$(this).hide(),b.show()[0].focus(),$.setCursorPos(c,d.length)}),b.on("blur",function(){""!==this.value?(a.value=this.value,$(this).hasClass("validatebox-invalid")||($(this).hide(),d.show())):a.value=""}).on("keyup",function(){a.value=""!==c.value?c.value:""}),""!==a.value?(b.hide(),c.value=a.value):(d.hide(),b.show()),a.textChanged=!0,c},addPlaceholder:function(a,b){function c(a){return a.value===a.getAttribute("placeholder")}function d(){var a=document.createElement("input");return"placeholder"in a}function e(a){var c=document.createElement("span");return c.className="placeholder-content",c.innerHTML='<span class="placeholder-text" style="width:'+(a.offsetWidth||200)+"px;line-height:"+(a.offsetHeight||28)+'px">'+(b||"")+"</span>",a.parentNode.insertBefore(c,a),$(c).on("click",function(){a.focus()}),c}function f(b){""===b.value?("ok"!==b.placeholdered&&(g=e(a),b.placeholdered="ok"),$(g).show()):$(g).hide()}var g,h=a.getAttribute("placeholder"),i=$(a);h!==b&&a.setAttribute("placeholder",b),d()?(i.on("blur",function(){c(this)&&(this.value=""),""===this.value&&$(this).addClass("placeholder-text")}).on("keyup",function(){""!==this.value&&$(this).removeClass("placeholder-text")}),""===a.value&&i.addClass("placeholder-text")):(i.on("click",function(){f(this)}).on("keyup",function(){f(this)}).on("focus",function(){f(this)}),f(a))},initInput:function(a,b,d){{var e,f;$(a)}return null===a?0:(f=a,"password"!==a.type||a.textChanged?"text"===a.type&&d&&c.addCapTip(f):(f=c.toTextType(a,d),d&&c.addCapTip(f,a)),e=$(f),b?c.addPlaceholder(f,b):a.getAttribute("placeholder")&&(b=a.getAttribute("placeholder"),c.addPlaceholder(f,b)),f)},initPassword:function(a,b,d,e){var f=a.value,g=$(a);""===f?c.initInput(a,b,d):e?g.on("keyup",function(){""===this.value&&c.initInput(a,b,d)}):c.initInput(a,b,d)}},$.include({toTextboxs:function(a,c){return this.each(function(){b.create(this,a,c),$(this).addClass("textboxs"),this.val=function(a){return"undefined"===$.type(a)?b.getValue(this):"string"!=typeof a?!1:void b.setValue(this,a)},this.disable=function(a){b.disable(this,a)},this.toFocus=function(){this.getElementsByTagName("input")[0].focus()}})},addPlaceholder:function(a){return this.each(function(){c.addPlaceholder(this,a)})},initPassword:function(a,b,d){return this.each(function(){c.initPassword(this,a,b,d)})},initInput:function(a,b){return this.each(function(){c.initInput(this,a,b)})},addCapTip:function(a,b){return this.each(function(){c.addCapTip(a,b)})},toTextType:function(){return this.each(function(){c.toTextType(this)})}}),$.ajaxMassage=function(){function a(){this.$elem=null}return a.prototype={constructor:a,init:function(a){var b=document.getElementById("ajax-massage");b?b.style.display="block":(b=document.createElement("div"),b.id="ajax-massage",$("body").append(b)),b.innerHTML=a,this.$elem=$(b)},show:function(){this.$elem.show()},hide:function(){this.$elem.hide()},remove:function(){this.$elem.remove()},text:function(a){this.$elem.html(a)}},function(b){var c=new a;return c.init(b),c}}()}(window),function(a){"use strict";var b,c={errorNum:0,getOptions:function(a){var b=a.getAttribute("data-options");return $.parseJSON(b)},getVal:function(a){var b=a.value;return void 0===b&&$.isFunction(a.val)&&(b=a.val()),b||""},isEmpty:function(){var a=c.getVal(this);return""===a||a===this.getAttribute("placeholder")},check:function(a){var b,e,f,g=$(this),h=c.getVal(this),i=c.getOptions(this)||null,j=$.validate.valid,k="";return e=[h],b=""===h||h===this.getAttribute("placeholder"),"required"===this.getAttribute("required")&&b?"keyup"!==a&&"focus"!==a&&(k=d("this field is required")):h&&null!==i&&(e=e.concat(i.args||[]),f=j[i.type],"function"==typeof f?k=f.apply(j,e):"keyup"===a||"focus"===a?f&&"function"==typeof f.specific&&(k=f.specific.apply(f,e)):f&&"function"==typeof f.all&&(k=f.all.apply(f,e))),this["data-check-error"]||c.errorNum++,g.removeValidateTip(!0),k&&!$.isHidden(this)?(g.addValidateTip(k,!0).showValidateTip().addClass("validatebox-invalid"),this["data-check-error"]=!0):(g.removeClass("validatebox-invalid"),c.errorNum--,this["data-check-error"]=!1),b},show:function(){$(this).showValidateTip()},hide:function(){$(this).hideValidateTip()}};if(!a._)var d=a._=function(a,b){var c,d=$.validate.b28n[a]||a,e=b&&b.length,f=0;if(e>0)for(;-1!==(c=d.indexOf("%s"));)d=d.substring(0,c)+b[f]+d.substring(c+2,d.length),f=f+1===e?f:f+1;return d};$.validate=function(){function b(){this.ok=!1,this.$elem={},this.options={custom:null,success:function(){},error:function(){}}}var d={focus:function(a){var b=a?a.type:null;this.bluring=!1,c.check.call(this,b)},blur:function(b){var d=this,e=b?b.type:null;this.bluring=!0,a.setTimeout(function(){d.bluring&&(c.check.call(d,e),c.show.call(d))},180)}};return b.prototype={constructor:b,init:function(a){var b=$(".validatebox");this.options=$.extend(this.options,a),this.$elems=b,b.each(function(){var a=$(this);a.on("focus",d.focus).on("blur",d.blur).on("keyup",function(){c.check.call(this,"keyup")})}),$(".textboxs").each(function(){var a=this;$(this).hasClass("validatebox")&&$(this).find("input").on("focus",function(b){d.focus.call(a,b)}).on("blur",function(b){d.blur.call(a,b)})})},addElems:function(a){$(a).on("focus",d.focus).on("blur",d.blur).on("keyup",function(){c.check.call(this,"keyup")})},check:function(a){$(a).each(c.check)},checkAll:function(){var a="";return $(".validatebox").each(c.check),0!==c.errorNum||("function"==typeof this.options.custom&&(a=this.options.custom()),a)?void this._error(a):(this._success(),!0)},message:function(){},_success:function(){this.ok=!0,"function"==typeof this.options.success&&this.options.success()},_error:function(a){this.ok=!1,"function"==typeof this.options.error&&this.options.error(a)}},function(a){var c=new b;return c.init(a),c}}(),b={num:function(a,b,c){return/^[0-9]{1,}$/.test(a)?b&&c&&(parseInt(a,10)<b||parseInt(a,10)>c)?d("Input range is: %s - %s",[b,c]):void 0:d("Must be number")},mac:{all:function(a){var b=this.specific(a);return b?b:/^([0-9a-fA-F]{2}:){5}[0-9a-fA-F]{2}$/.test(a)?void 0:d("Please input a validity MAC address")},specific:function(a){var b=a.split(":")[0];return/^(00:){5}00$/.test(a)?d("MAC address can't be 00:00:00:00:00:00"):b.charAt(1)&&parseInt(b.charAt(1),16)%2!==0?d("The second character must be even number."):void 0}},ip:{all:function(a){var b=this.specific(a);return b?b:/^([1-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(([0-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.){2}([1-9]|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])$/.test(a)?void 0:d("Please input a validity IP address")},specific:function(a){var b=a.split("."),c=b[0];return"127"===b[0]?d("ip地址第一个字段不能为127，因为它是回环地址."):b[0]>223?d("First input %s greater than 223.",[c]):void 0}},dns:function(){},mask:function(a){var b=/^(254|252|248|240|224|192|128|0)\.0\.0\.0$|^(255\.(254|252|248|240|224|192|128|0)\.0\.0)$|^(255\.255\.(254|252|248|240|224|192|128|0)\.0)$|^(255\.255\.255\.(254|252|248|240|224|192|128|0))$/;return b.test(a)?void 0:d("Please input a validity subnet mask")},len:function(a,b,c){var e=a.length;return b>e||e>c?d("String length range is: %s - %s bit",[b,c]):void 0},email:function(a){var b=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;return b.test(a)?void 0:d("Please input a validity E-mail address")},hex:function(a){return/^[0-9a-fA-F]{1,}$/.test(a)?void 0:d("Must be hex.")},ascii:function(a,c,e){return/^[ -~]+$/g.test(a)?c||e?b.len(a,c,e):void 0:d("Must be ASCII.")},pwd:function(a,c,g){var f=/^\w{1,}$/,e=c&&g&&b.len(a,c,g);return !f.test(a)?d("请输入有效的字符"):e;},none:function(){},username:function(a){return/^\w{1,}$/.test(a)?void 0:d("Please input a validity username.")},time:function(a){return/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(a)?void 0:d("Please input a valid time.")},ssidPasword:function(a,c,d){var e=$.validate.valid.ascii(a);return e?e:c&&d&&(e=b.len(a,c,d))?e:void 0},remarkTxt:function(a,b){var c,e,f=b.length;for(e=0;f>e;e++)if(c=b.charAt(e),-1!==a.indexOf(c))return d("Can't input: '%s'",[c])}},$.validate.utils=c,$.validate.b28n={"Must be number":"请输入数字","Input range is: %s - %s":"输入范围：%s - %s","this field is required":"本项不能为空","请输入有效的密码":"请输入有效的密码","String length range is: %s - %s bit":"长度范围：%s - %s 位","Please input a validity IP address":"请输入正确的 IP 地址","Please input a validity subnet mask":"请输入正确的子网掩码","Please input a validity MAC address":"请输入正确的 MAC 地址","Must be ASCII.":"请输入非中文字符","Can't input: '%s'":"不能输入: ‘%s’","The second character must be even number.":"MAC 地址的第二个字符必须为偶数","IP address can't be multicast, broadcast or loopback address.":"IP 地址不能为组播,广播或环回地址","IP address first input don't be 127, becuse it is loopback address.":"以127开始的地址为保留的环回地址，请指定一个1到223之间的其它值。","First input %s greater than 223.":"以%s开始的地址无效，请指定一个1到223之间的值。","MAC address can't be 00:00:00:00:00:00":"MAC 地址不能为00:00:00:00:00:00"},$.validate.valid=b,$.validateTipId=0,$.include({addValidateTip:function(a){function b(a,b,c){var d=document.createElement("span"),e="reasy-validate-tip-"+a;return c.validateTipId=e,d.innerHTML='<span id="'+e+'" class="validatebox-tip"><span class="validatebox-tip-content">'+b+'</span><span class="validatebox-tip-pointer"></span></span>',d}var c=this;return this.each(function(){var d,e;d=b($.validateTipId++,a,this),e=$(d),c.after(d)})},showValidateTip:function(){return this.each(function(){$("#"+this.validateTipId).css("visibility","visible")})},hideValidateTip:function(){return this.each(function(){$("#"+this.validateTipId).css("visibility","hidden")})},removeValidateTip:function(){return this.each(function(){var a=$("#"+this.validateTipId);a&&($("#"+this.validateTipId).parent().remove(),this.validateTipId="")})}})}(window);